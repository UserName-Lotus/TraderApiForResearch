<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<!-- saved from url=(0016)http://localhost -->
<head>
<meta http-equiv="X-UA-Compatible" content="IE=8"/>
<title>
琛屾儏鎺ュ彛</title>
<meta name="info" content="_HQJK.md" >
<meta name="viewport" content="width=device-width, user-scalable=yes" />
<meta http-equiv="Content-Type" content="text/html;charset=gb18030">
<link id='theme_link' rel="stylesheet" href="../lesson_light.css" type="text/css">
<link id='custom_theme_link' rel="stylesheet" href="../custom_lesson_light.css" type="text/css">
<link id='menu_theme_link' rel="stylesheet" href="../menu_light.css" type="text/css" />
<link id='custom_menu_theme_link' rel="stylesheet" href="../custom_menu_light.css" type="text/css" />
<script>
function ShowPage()
{
document.getElementById('content').style.visibility = "visible";
document.body.style.fontSize = 16+'px';
}
function HidePage()
{
document.getElementById('content').style.visibility = "hidden";
}var theme_css_prefix = 'lesson_';var path_prefix = '../';
function ShowImages()
{
    imgs = document.getElementsByTagName('img');
    imgsnum = imgs.length;
    for (imgi = 0; imgi < imgsnum; imgi++)
    {
        if ((typeof(imgs[imgi].src) == 'undefined' || imgs[imgi].src == '') &&
             imgs[imgi].getAttribute('thissrc') != null)
            imgs[imgi].src = imgs[imgi].getAttribute('thissrc');
    }
}

function HideImages()
{
    imgs = document.getElementsByTagName('img');
    imgsnum = imgs.length;
    for (imgi = 0; imgi < imgsnum; imgi++)
    {
        if (typeof(imgs[imgi].src) != 'undefined' && imgs[imgi].src != '')
            imgs[imgi].thissrc = imgs[imgi].getAttribute('src');
            imgs[imgi].src = '';
    }
}

function SwitchTheme()
{
    var css = document.getElementById('theme_link');
    var custom_css = document.getElementById('custom_theme_link');
    var menu_css = document.getElementById('menu_theme_link');
    var custom_menu_css = document.getElementById('custom_menu_theme_link');
    var url;
    var custom_url;
    var menu_url;
    var custom_menu_url;
    if (theme_css_prefix != 'presentation_'){ theme_css_prefix = 'lesson_' }
    var theme = 'light';
	if (/.*_dark.css$/.test(css.getAttribute('href'))) theme = 'dark';
    if (theme == 'light')
    {
        url = path_prefix + theme_css_prefix + 'dark.css';
        custom_url = path_prefix + 'custom_' + theme_css_prefix + 'dark.css';
        menu_url = path_prefix + 'menu_dark.css';
        custom_menu_url = path_prefix + 'custom_menu_dark.css';
        window.name = 'dark';
    }
    else
    {
        url = path_prefix + theme_css_prefix + 'light.css';
        custom_url = path_prefix + 'custom_' + theme_css_prefix + 'light.css';
        menu_url = path_prefix + 'menu_light.css';
        custom_menu_url = path_prefix + 'custom_menu_light.css';
        window.name = 'light';
    }
    if (css) css.setAttribute('href', url);
    if (custom_css) custom_css.setAttribute('href', custom_url);
    if (menu_css) menu_css.setAttribute('href', menu_url);
    if (custom_menu_css) custom_menu_css.setAttribute('href', custom_menu_url);
}

function LoadTheme(new_theme)
{
    var css = document.getElementById('theme_link');
    var custom_css = document.getElementById('custom_theme_link');
    var menu_css = document.getElementById('menu_theme_link');
    var custom_menu_css = document.getElementById('custom_menu_theme_link');
    var url;
    var custom_url;
    var menu_url;
    var custom_menu_url;
    if(theme_css_prefix != 'presentation_'){ theme_css_prefix = 'lesson_' }
    var theme = 'light';
	if (/.*_dark.css$/.test(css.getAttribute('href'))) theme = 'dark';
    if (new_theme && new_theme != theme)
    {
        if (new_theme == 'dark')
        {
            url = path_prefix + theme_css_prefix + 'dark.css';
            custom_url = path_prefix + 'custom_' + theme_css_prefix + 'dark.css';
            menu_url = path_prefix + 'menu_dark.css';
            custom_menu_url = path_prefix + 'custom_menu_dark.css';
        }
        else
        {
            url = path_prefix + theme_css_prefix + 'light.css';
            custom_url = path_prefix + 'custom_' + theme_css_prefix + 'light.css';
            menu_url = path_prefix + 'menu_light.css';
            custom_menu_url = path_prefix + 'custom_menu_light.css';
        }
        if (css) css.setAttribute('href', url);
        if (custom_css) custom_css.setAttribute('href', custom_url);
        if (menu_css) menu_css.setAttribute('href', menu_url);
        if (custom_menu_css) custom_menu_css.setAttribute('href', custom_menu_url);
    }
}

function LoadUserSelectedTheme()
{
    if(window.name == 'dark' || window.name == 'light')
    {
    LoadTheme(window.name);
    }
}
</script>
</head>
<body onLoad="ShowPage()">
<p style="visibility: collapse;"><span id="__TOP_4E4ABC53-B143-46FF-93CF-F9381EAD8E14__" class="anchor"></span></p><div style="text-align:right"><span class="pageheader"></span><a onclick="print()" style="visibility: hidden"></a></div><div id="printArea"><p class='fileheader' id='file_header'>琛屾儏鎺ュ彛</p><hr class="headerline"/><div id="content"><script src="../jquery-1.7.0.min.js"></script><script src="../menu_light.js"></script><script language="javascript">function print() {$("#printArea").jqprint({importCSS: true});}</script><script>function getHeight(){return document.body.scrollHeight;}</script><script>function copyChoiceQuestion(examDiv,questionTitleId,questionChoice0Id,questionChoice1Id,questionChoice2Id,questionChoice3Id)
{
var qTitle=document.getElementById(questionTitleId);
var qChoiceText0="",qChoiceText1="",qChoiceText2="",qChoiceText3="";var qChoice0=document.getElementById(questionChoice0Id);
if(qChoice0){ qChoiceText0="A." + qChoice0.innerText + "\r\n";}var qChoice1=document.getElementById(questionChoice1Id);
if(qChoice1){ qChoiceText1="B." + qChoice1.innerText + "\r\n";}var qChoice2=document.getElementById(questionChoice2Id);
if(qChoice2){ qChoiceText2="C." + qChoice2.innerText + "\r\n";}var qChoice3=document.getElementById(questionChoice3Id);
if(qChoice3){ qChoiceText3="D." + qChoice3.innerText + "\r\n";}var ta = document.createElement('textarea');
ta.value = qTitle.innerText + "\r\n" + qChoiceText0 + qChoiceText1 + qChoiceText2 + qChoiceText3 + "\r\n";
examDiv.appendChild(ta);
ta.select();
document.execCommand("Copy");
ta.style.display = 'none';
alert('宸插鍒?);
}
</script><script>function copyFillBlankQuestion(examDiv,questionTitleId)
{
var qTitle=document.getElementById(questionTitleId);
var ta = document.createElement('textarea');
ta.value = qTitle.innerText + "\r\n";
examDiv.appendChild(ta);
ta.select();
document.execCommand("Copy");
ta.style.display = 'none';
alert('宸插鍒?);
}
</script><div id="left_menu"><div class="left_menu_content"><p><a href="#3728524d-eff5-4198-bdab-fd2a2dae5a5a">1.璇存槑</a></p><p><a href="#248552d0-28f2-4195-a400-743d4d242bbd">2.浠ｇ爜绀轰緥</a></p><p>銆€<a href="#0f08f74b-5dd6-4240-9daa-dfa324df43e6">2.1.婧愪唬鐮?/a></p><p>銆€<a href="#c9adb1b4-a1fc-405c-98c6-51057a233cc7">2.2.浠ｇ爜璇存槑</a></p><p>銆€<a href="#2ffe0937-35f0-4a99-8dff-1e3cd55bd11b">2.2.1.缁ф壙<a href="CTHOSTFTDCMDSPI/_CTHOSTFTDCMDSPI.html">CThostFtdcMdSpi</a>绫?/a></p><p>銆€<a href="#b8ad16f9-009f-458f-a363-e83e96037b37">2.2.2.鍒濆鍖?/a></p><p>銆€<a href="#f81bbca9-85d7-48c9-ad13-9009be3e1646">2.2.3.鐧诲綍</a></p><p>銆€<a href="#e4929216-6086-4198-8910-c23863fd4f00">2.2.4.璁㈤槄琛屾儏</a></p><p>銆€<a href="#42dccfa2-55f8-4f51-981e-fb10ac0c5550">2.2.5.绋嬪簭杩愯娴佺▼</a></p><p><a href="#__TOP_4E4ABC53-B143-46FF-93CF-F9381EAD8E14__">鍥炲埌椤堕儴</a></p><hr/><p><a href="../CTSJGSJCJJK/CTP-GETDATACOLLECTAPIVERSION.html" alt="鈫?>&lt; 鍓嶉〉</a> <a href="../_index.html" alt="Ctrl+I">鍥炵洰褰?/a> <a href="CTHOSTFTDCMDAPI/_CTHOSTFTDCMDAPI.html" alt="鈫?>鍚庨〉 &gt;</a></p></div><strong class="left_menu_title"><span> </span></strong></div><table id="" border="0" cellspacing="0" class="square-block"><tbody border="0"><tr border="0"><td class="square-block-left"/><td class="square-block-content"><div>

<div class="nav-links-list" style="text-indent:0px;">
<p class="nav-paragraph">鈻?<a class="nav-action" href="../_API鎺ュ彛璇存槑.html">6.7.9P1_API鎺ュ彛璇存槑</a></p>
<p class="nav-paragraph">鈹斺梿 琛屾儏鎺ュ彛</p>
</div>

</div></td><td class="square-block-right"/></tr></tbody></table>
<span id="3728524d-eff5-4198-bdab-fd2a2dae5a5a" class="anchor"></span><h1 class='title' id='title1' title='鐐瑰嚮灞曞紑/鎶樺彔'><span id='header_span1' class='header_span'>鈼?</span>1.璇存槑</h1><script>$(document).ready(function(){$("#title1").click(function(){$("#panel1").toggle();if($("#panel1").is(":hidden")){$("#header_span1").html('鈼?');}else{$("#header_span1").html('鈼?');}});});</script><div class='panel_title_h1' id='panel1'>
<p>琛屾儏API鎻愪緵浜嗕袱涓帴鍙ｏ紝鍒嗗埆涓?a href="CTHOSTFTDCMDAPI/_CTHOSTFTDCMDAPI.html">CThostFtdcMdApi</a>鍜?a href="CTHOSTFTDCMDSPI/_CTHOSTFTDCMDSPI.html">CThostFtdcMdSpi</a>銆傝繖涓や釜鎺ュ彛瀵笷TD鍗忚杩涜浜嗗皝瑁咃紝鏂逛究瀹㈡埛绔簲鐢ㄧ▼搴忕殑寮€鍙戙€傚鎴风搴旂敤绋嬪簭鍙互閫氳繃<a href="CTHOSTFTDCMDAPI/_CTHOSTFTDCMDAPI.html">CThostFtdcMdApi</a>鍙戝嚭鎿嶄綔璇锋眰锛岄€氳繃缁ф壙<a href="CTHOSTFTDCMDSPI/_CTHOSTFTDCMDSPI.html">CThostFtdcMdSpi</a>骞堕噸杞藉洖璋冨嚱鏁版潵澶勭悊鍚庡彴鏈嶅姟鐨勫搷搴斻€?/p>
<blockquote>
  <p><code>鐗瑰埆娉ㄦ剰</code>锛欳TP绯荤粺鍦ㄦ棭鐩樼郴缁熷惎鍔ㄦ椂锛屼細閲嶆紨澶滅洏娴佹按锛屾鏃舵湁鍙兘閲嶅鎺ㄩ€佹暣涓鐩樼殑琛屾儏銆傚鏋滅敤鎴锋鏃惰繛鍏TP灏辨湁鍙兘鏀跺埌杩欎簺閲嶅琛屾儏锛屽洜姝ゅ缓璁敤鎴峰湪澶勭悊琛屾儏鏃惰繃婊ゆ帀閲嶅琛屾儏锛屼互鍏嶅奖鍝嶇▼搴忛€昏緫銆?/p>
  
  <p>鑷?.6.2P8鏌滃彴鐗堟湰寮€濮媐ront<em>md</em>se琛屾儏鍓嶇疆甯︽祦閲嶅惎鍚庯紝涓嶅啀鎺ㄩ€佸鐩樿鎯呮暟鎹€?/p>
</blockquote>
<p class="back_to_top_link"><a href="#__TOP_4E4ABC53-B143-46FF-93CF-F9381EAD8E14__">鍥炲埌椤堕儴</a></p><span id="248552d0-28f2-4195-a400-743d4d242bbd" class="anchor"></span></div><h1 class='title' id='title2' title='鐐瑰嚮灞曞紑/鎶樺彔'><span id='header_span2' class='header_span'>鈼?</span>2.浠ｇ爜绀轰緥</h1><script>$(document).ready(function(){$("#title2").click(function(){$("#panel2").toggle();if($("#panel2").is(":hidden")){$("#header_span2").html('鈼?');}else{$("#header_span2").html('鈼?');}});});</script><div class='panel_title_h1' id='panel2'>
<span id="0f08f74b-5dd6-4240-9daa-dfa324df43e6" class="anchor"></span><h2 class='title' id='title3' title='鐐瑰嚮灞曞紑/鎶樺彔'><span id='header_span3' class='header_span'>鈼?</span>2.1.婧愪唬鐮?/h2><script>$(document).ready(function(){$("#title3").click(function(){$("#panel3").toggle();if($("#panel3").is(":hidden")){$("#header_span3").html('鈼?');}else{$("#header_span3").html('鈼?');}});});</script><div class='panel_title_h2' id='panel3'>
<p>涓嬮潰閫氳繃涓€涓畝鍗曠殑浠ｇ爜绀轰緥锛屽甫澶у蹇€熶簡瑙ｄ笅琛屾儏API鐨勪娇鐢ㄦ柟娉曘€傝绀轰緥婕旂ず浜咥PI鐨勫垵濮嬪寲銆佽繛鎺ュ墠缃€佺櫥褰曡鎯呯郴缁熷拰璁㈤槄琛屾儏鐨勮繃绋嬨€?/p>
<pre><code>01. //浠ヤ笅鏄痬duserhandle.h鏂囦欢
02. 
03. #include "ThostFtdcMdApi.h"
04. 
05. #include &lt;stdio.h&gt;
06. 
07. #include &lt;Windows.h&gt;
08. 
09.  
10. 
11. class CMduserHandler : public CThostFtdcMdSpi
12. 
13. {
14. 
15. private:
16. 
17.   CThostFtdcMdApi *m_mdApi;
18. 
19.  
20. 
21. public:
22. 
23.   void connect()
24. 
25.   {
26. 
27. //鍒涘缓骞跺垵濮嬪寲API
28. 
29.       m_mdApi = CThostFtdcMdApi::CreateFtdcMdApi(".//flow_md/", true, true);
30. 
31.       m_mdApi-&gt;RegisterSpi(this);
32. 
33.       m_mdApi-&gt;RegisterFront("tcp://218.28.130.102:41413");
34. 
35.       m_mdApi-&gt;Init();
36. 
37.   }
38. 
39.  
40. 
41. //鐧婚檰
42. 
43.   void login()
44. 
45.   {
46. 
47.       CThostFtdcReqUserLoginField t = {0};
48. 
49.       while (m_mdApi-&gt;ReqUserLogin(&amp;t, 1)!=0) Sleep(1000);
50. 
51.   }
52. 
53.  
54. 
55. // 璁㈤槄琛屾儏
56. 
57.   void subscribe()
58. 
59.   {
60. 
61.       char **ppInstrument=new char * [50];
62. 
63.       ppInstrument[0] = "IF1809";
64. 
65.       while (m_mdApi-&gt;SubscribeMarketData(ppInstrument, 1)!=0) Sleep(1000);
66. 
67.   }
68. 
69.  
70. 
71.   //鎺ユ敹琛屾儏
72. 
73.   void OnRtnDepthMarketData(CThostFtdcDepthMarketDataField *pDepthMarketData)
74. 
75.   {
76. 
77.           printf("OnRtnDepthMarketData\n");
78. 
79.   }
80. 
81. };
82. 
83.  
84. 
85. // 浠ヤ笅鏄痬ain.cpp鏂囦欢
86. 
87. #include "mduserhandle.h"
88. 
89. int main(int argc, char* argv[])
90. 
91. {
92. 
93.   CMduserHandler *mduser = new CMduserHandler;
94. 
95.   mduser-&gt;connect();
96. 
97.   mduser-&gt;login();
98. 
99.   mduser-&gt;subscribe();
100.    
101.  Sleep(INFINITE);
102.    
103. }
</code></pre>
<span id="c9adb1b4-a1fc-405c-98c6-51057a233cc7" class="anchor"></span></div><h2 class='title' id='title4' title='鐐瑰嚮灞曞紑/鎶樺彔'><span id='header_span4' class='header_span'>鈼?</span>2.2.浠ｇ爜璇存槑</h2><script>$(document).ready(function(){$("#title4").click(function(){$("#panel4").toggle();if($("#panel4").is(":hidden")){$("#header_span4").html('鈼?');}else{$("#header_span4").html('鈼?');}});});</script><div class='panel_title_h2' id='panel4'>
<span id="2ffe0937-35f0-4a99-8dff-1e3cd55bd11b" class="anchor"></span><h3 class='title' id='title5' title='鐐瑰嚮灞曞紑/鎶樺彔'><span id='header_span5' class='header_span'>鈼?</span>2.2.1.缁ф壙<a href="CTHOSTFTDCMDSPI/_CTHOSTFTDCMDSPI.html">CThostFtdcMdSpi</a>绫?/h3><script>$(document).ready(function(){$("#title5").click(function(){$("#panel5").toggle();if($("#panel5").is(":hidden")){$("#header_span5").html('鈼?');}else{$("#header_span5").html('鈼?');}});});</script><div class='panel_title_h3' id='panel5'>
<p>浠ｇ爜涓€寮€濮嬮€氳繃<code>#include "ThostFtdcMdApi.h"</code>锛屽皢thostmduserapi.lib涓０鏄庣殑绫诲拰鏁版嵁绫诲瀷鍖呮嫭杩涙潵锛岃澶存枃浠朵腑鏈変袱涓噸瑕佺殑鍩虹被锛?a href="CTHOSTFTDCMDSPI/_CTHOSTFTDCMDSPI.html">CThostFtdcMdSpi</a>鍜?a href="CTHOSTFTDCMDAPI/_CTHOSTFTDCMDAPI.html">CThostFtdcMdApi</a>銆?/p>
<p><a href="CTHOSTFTDCMDSPI/_CTHOSTFTDCMDSPI.html">CThostFtdcMdSpi</a>绫绘彁渚涗簡琛屾儏鐩稿叧鐨勫洖璋冩帴鍙ｏ紝鐢ㄦ埛闇€瑕佺户鎵胯绫诲苟閲嶈浇杩欎簺鎺ュ彛锛屼互鑾峰彇鍝嶅簲鏁版嵁銆?/p>
<p><a href="CTHOSTFTDCMDAPI/_CTHOSTFTDCMDAPI.html">CThostFtdcMdApi</a>绫诲垯鏄彁渚涗簡琛屾儏鐩稿叧鐨勮姹傛帴鍙ｏ紝渚嬪璁㈤槄琛屾儏璇锋眰銆佽闃呰浠疯姹傘€?/p>
<p>绗?1琛屾垜浠０鏄庝簡涓€涓狢MduserHandler绫伙紝璇ョ被姝ｆ槸缁ф壙浜?a href="CTHOSTFTDCMDSPI/_CTHOSTFTDCMDSPI.html">CThostFtdcMdSpi</a>绫伙紝骞朵笖閲嶈浇浜?a href="CTHOSTFTDCMDSPI/ONRTNDEPTHMARKETDATA.html">OnRtnDepthMarketData</a>绛夋帴鍙ｃ€傞€氳繃杩欑鏂瑰紡锛屼緥濡傚綋鎴戜滑API鍜屽墠缃缓绔嬭繛鎺ユ垚鍔熸椂锛屼究浼氳Е鍙?a href="CTHOSTFTDCMDSPI/ONFRONTCONNECTED.html">OnFrontConnected</a>锛涘綋鎴戜滑鍙戣捣璁㈤槄琛屾儏璇锋眰鎴愬姛鍚庯紝渚夸細瑙﹀彂<a href="CTHOSTFTDCMDSPI/ONRSPSUBMARKETDATA.html">OnRspSubMarketData</a>銆傞€氳繃杩欎簺鍥炶皟杩斿洖鐨勬暟鎹紝鎴戜滑鍙互寰楃煡璁㈤槄鏄惁鎴愬姛锛屼箣鍚庝氦鏄撶郴缁熶細閫氳繃<a href="CTHOSTFTDCMDSPI/ONRTNDEPTHMARKETDATA.html">OnRtnDepthMarketData</a>瀹炴椂鎺ㄩ€佽鎯呫€?/p>
<p>绗?7琛岋紝澹版槑浜嗕竴涓?a href="CTHOSTFTDCMDAPI/_CTHOSTFTDCMDAPI.html">CThostFtdcMdApi</a>绫诲瀷鐨勫彉閲弇_mdApi锛屽悗缁垜浠細瀹炰緥鍖栧畠锛屽垱寤哄疄渚嬪悗渚垮彲浠ヨ皟鐢╩dapi鎻愪緵鐨勭櫥褰曪紝璁㈤槄琛屾儏绛夋帴鍙ｅ姛鑳姐€?/p>
<span id="b8ad16f9-009f-458f-a363-e83e96037b37" class="anchor"></span></div><h3 class='title' id='title6' title='鐐瑰嚮灞曞紑/鎶樺彔'><span id='header_span6' class='header_span'>鈼?</span>2.2.2.鍒濆鍖?/h3><script>$(document).ready(function(){$("#title6").click(function(){$("#panel6").toggle();if($("#panel6").is(":hidden")){$("#header_span6").html('鈼?');}else{$("#header_span6").html('鈼?');}});});</script><div class='panel_title_h3' id='panel6'>
<p>绗?3琛屽埌37琛?code>connect()</code>鍑芥暟閲岋紝瀹炵幇浜嗙嚎绋嬬殑鍒濆鍖栵紝姝ラ涓猴細</p>
<p class="step-para"><span class="step-mark">Step 1</span> 鍒涘缓Api瀹炰緥锛?a href="CTHOSTFTDCMDAPI/_CTHOSTFTDCMDAPI.html">CThostFtdcMdApi</a>锛夊苟涓哄叾娉ㄥ唽瀵瑰簲鐨勫洖璋冩帴鍙ｇ被鐨勫疄渚嬶紙<a href="../JYJK/CTHOSTFTDCTRADERAPI/REGISTERSPI.html">RegisterSpi</a>锛夈€?/p>
<p class="step-para"><span class="step-mark">Step 2</span> 娉ㄥ唽鍚嶇О鏈嶅姟鍣ㄧ綉缁滃湴鍧€锛?a href="CTHOSTFTDCMDAPI/REGISTERNAMESERVER.html">RegisterNameServer</a>锛夋垨娉ㄥ唽鍓嶇疆鏈虹綉缁滃湴鍧€锛?a href="CTHOSTFTDCMDAPI/REGISTERFRONT.html">RegisterFront</a>锛夈€?/p>
<p class="step-para"><span class="step-mark">Step 3</span> 鍒濆鍖朅pi锛?a href="CTHOSTFTDCMDAPI/INIT.html">Init</a>锛夛紝浣緼PI寤虹珛涓庡墠缃殑杩炴帴锛岃繛鎺ユ垚鍔熷悗鍥炶皟<a href="CTHOSTFTDCMDSPI/ONFRONTCONNECTED.html">OnFrontConnected</a>銆?/p>
<p>绗?9琛屽垱寤轰簡涓€涓猘pi瀹炰緥锛屽苟灏嗗叾璧嬪€肩粰m_mdApi锛屽悓鏃跺弬鏁?code>".//flow_md/"</code>鎸囨槑鎴戜滑api娴佹按鏂囦欢瀛樻斁鐨勭洰褰曚负flow鐩綍锛屽洜姝ゅ湪杩愯绋嬪簭鍓嶏紝鎴戜滑闇€瑕佹墜宸ュ垱寤哄ソ杩欎釜鐩綍锛?/p>
<blockquote>
  <p>娴佹按鏂囦欢浠?con鏂囦欢绫诲瀷鏂瑰紡瀛樻斁娴佹按搴忓彿鍜屼氦鏄撴棩淇℃伅锛岃繖浜涗俊鎭api姝ｅ父宸ヤ綔鏈夐噸瑕佹剰涔夛紝涓嶅彲闅忔剰淇敼鍜屽垹闄わ紒骞朵笖澶氫釜api瀹炰緥涓嶅彲鍏变韩涓€涓祦姘存枃浠讹紝蹇呴』閫氳繃涓嶅悓鏂囦欢澶规垨鑰呬笉鍚屾祦姘存枃浠跺悕鍖哄垎寮€銆傝櫧鐒惰鎯呮病鏈夌鏈夋祦锛屼絾鏄篃寤鸿閬靛惊浠ヤ笂瑙勫垯銆?/p>
</blockquote>
<p>绗?1琛屽皢鑷繁瀹氫箟鐨勭户鎵夸簡Spi绫荤殑CMduserHandler娉ㄥ唽缁?a href="CTHOSTFTDCMDAPI/_CTHOSTFTDCMDAPI.html">CThostFtdcMdApi</a>锛岃繖鏍稟PI灏辫兘灏嗘敹鍒扮殑鍚勭鏁版嵁閫氳繃Spi绫荤殑鎺ュ彛鍥炶皟缁欑敤鎴枫€?/p>
<p>绗?3琛屾敞鍐屼簡鍓嶇疆鍦板潃锛屽鏋滄湁澶氫釜鍦板潃锛屽彲浠ュ娆¤皟鐢?a href="CTHOSTFTDCMDAPI/REGISTERFRONT.html">RegisterFront</a>鍑芥暟浼犲叆涓嶅悓鐨勫湴鍧€鏉ュ疄鐜般€侫PI浼氭嫨浼樻寫閫変竴涓湴鍧€杩涜杩炴帴銆?/p>
<p>绗?5琛岃皟鐢?a href="CTHOSTFTDCMDAPI/INIT.html">Init</a>()鍑芥暟寮€濮嬫寮忓垵濮嬪寲api锛屼篃灏辨槸璇村墠闈㈢殑宸ヤ綔鍙槸鍑嗗宸ヤ綔锛屽埌浜嗚繖閲宎pi鎵嶇湡姝ｅ紑濮嬪伐浣溿€傛鏃禷pi浼氬悜涔嬪墠娉ㄥ唽鐨勫湴鍧€鍙戣捣涓嶤TP鍓嶇疆鐨勮繛鎺ャ€?/p>
<p>瀹屾垚浠ヤ笂姝ラ鍚庯紝瀹㈡埛绔氨宸茬粡鍜宑tp鐨勮鎯呭墠缃缓绔嬩簡杩炴帴锛屽悗缁垜浠氨鍙互璋冪敤鍚勭API鎺ュ彛瀹屾垚涓氬姟闇€姹傘€?/p>
<span id="f81bbca9-85d7-48c9-ad13-9009be3e1646" class="anchor"></span></div><h3 class='title' id='title7' title='鐐瑰嚮灞曞紑/鎶樺彔'><span id='header_span7' class='header_span'>鈼?</span>2.2.3.鐧诲綍</h3><script>$(document).ready(function(){$("#title7").click(function(){$("#panel7").toggle();if($("#panel7").is(":hidden")){$("#header_span7").html('鈼?');}else{$("#header_span7").html('鈼?');}});});</script><div class='panel_title_h3' id='panel7'>
<p>绗?3鍒?1琛岋紝鍓嶇疆杩炴帴鎴愬姛鍚庤兘澶熷紑濮嬬櫥闄嗕氦鏄撶郴缁熶簡锛屽厛鍒濆鍖栫櫥闄嗙粨鏋勪綋锛屽啀璧嬪€肩浉搴斿瓧娈点€傚浜庤鎯呯殑鐧诲綍鏉ヨ鍙渶瑕佽皟鐢ㄧ櫥褰曟帴鍙ｅ嵆鍙紝鐩墠CTP鏆傛椂涓嶅琛屾儏鍋氬瘑鐮佹牎楠屻€備箣鍚庡彂閫佺櫥闄嗭紙<a href="../JYJK/CTHOSTFTDCTRADERAPI/REQUSERLOGIN.html">ReqUserLogin</a>锛夋寚浠ゃ€傞€氳繃杩斿洖鍊煎彲浠ュ垽鏂槸鍚﹀彂閫佹垚鍔燂紝0琛ㄧず鎴愬姛锛屽叾浠栧垯琛ㄧず澶辫触锛屽叿浣撳彲浠ュ弬鑰冩帴鍙?a href="CTHOSTFTDCMDAPI/REQUSERLOGIN.html">ReqUserLogin</a>銆傚彂閫佷笉鎴愬姛鍙互灏濊瘯绛夊緟涓€灏忎細閲嶅彂銆?/p>
<blockquote>
  <p>娉ㄦ剰杩欓噷杩斿洖0涓嶈〃绀虹櫥褰曟垚鍔燂紝鑰屾槸浠呬粎琛ㄧずapi鎸囦护鍙戝嚭鍘讳簡銆傝瑙勫垯鍚屾牱閫傜敤浜庡叾浠栬姹傛帴鍙ｏ紝寤鸿鍦ㄥ疄闄呭簲鐢ㄤ腑鍋氬ソ瓒呮椂閲嶅彂鏈哄埗锛屼互渚垮湪缃戠粶涓㈠寘鐨勬儏鍐典笅鑳藉鍙婃椂閲嶅彂鎸囦护銆?/p>
</blockquote>
<span id="e4929216-6086-4198-8910-c23863fd4f00" class="anchor"></span></div><h3 class='title' id='title8' title='鐐瑰嚮灞曞紑/鎶樺彔'><span id='header_span8' class='header_span'>鈼?</span>2.2.4.璁㈤槄琛屾儏</h3><script>$(document).ready(function(){$("#title8").click(function(){$("#panel8").toggle();if($("#panel8").is(":hidden")){$("#header_span8").html('鈼?');}else{$("#header_span8").html('鈼?');}});});</script><div class='panel_title_h3' id='panel8'>
<p>绗?7鍒?7琛岋紝璋冪敤璁㈤槄琛屾儏鐨勬帴鍙ｏ紝鎴戜滑杩欓噷璁㈤槄浜嗗悎绾?code>"IF1809"</code>銆傝嫢闇€瑕佹壒閲忚闃呭涓悎绾︼紝鍒欓渶瑕佸惊鐜妸鍚堢害杈撳叆鍒皃pInstrumentID涓幓锛屽悓鏃跺埆蹇樹簡鏇存敼鍚堢害鏁伴噺锛堢浜屼釜鍙傛暟锛夈€傝闃呭彂鍑哄悗閫氳繃<a href="CTHOSTFTDCMDSPI/ONRSPSUBMARKETDATA.html">OnRspSubMarketData</a>鍝嶅簲鍒ゆ柇鏄惁璁㈤槄鎴愬姛銆?/p>
<p>绗?3鍒?1琛岋紝璁㈤槄琛屾儏鍚庯紝閫氳繃<a href="CTHOSTFTDCMDSPI/ONRTNDEPTHMARKETDATA.html">OnRtnDepthMarketData</a>鍥炶皟鎺ㄩ€佸疄鏃惰鎯呬俊鎭€傚彲浠ュ湪姝ゆ椂瀹炵幇鑷韩涓氬姟閫昏緫銆?/p>
<blockquote>
  <p>浣嗘槸濡傛灉涓氬姟閫昏緫姣旇緝鑰楁椂锛屽簲璇ュ湪鍙﹀涓€涓嚎绋嬪鐞嗭紝鑰屼笉搴旇鍗″湪姝ゅ洖璋冮噷锛屽惁鍒欎細瀵艰嚧鍚庣画鐨勮鎯呭牭濉炲湪API鍐呴儴锛屼弗閲嶆儏鍐典笅浼氬鑷存柇绾裤€?/p>
</blockquote>
<span id="42dccfa2-55f8-4f51-981e-fb10ac0c5550" class="anchor"></span></div><h3 class='title' id='title9' title='鐐瑰嚮灞曞紑/鎶樺彔'><span id='header_span9' class='header_span'>鈼?</span>2.2.5.绋嬪簭杩愯娴佺▼</h3><script>$(document).ready(function(){$("#title9").click(function(){$("#panel9").toggle();if($("#panel9").is(":hidden")){$("#header_span9").html('鈼?');}else{$("#header_span9").html('鈼?');}});});</script><div class='panel_title_h3' id='panel9'>
<p>绗?9鍒?03琛岋紝鏄垜浠殑涓诲嚱鏁帮紝璇ュ嚱鏁版槸涓氬姟瀹炵幇涓讳綋銆傞鍏堝垵濮嬪寲CMduserHandler绫汇€傝皟鐢╟onnect鍑芥暟寮€濮嬭繛鎺tp鍓嶇疆锛岀劧鍚庝緷娆℃墽琛岀櫥褰曞拰璁㈤槄琛屾儏鎿嶄綔銆?/p>
<div class="sub-links-list" style="text-indent:0px;"><hr class='SubLinksListLine'/>
<p class="sub-links-list-header">璇峰弬闃咃細</p>
<p class="sub-links-paragraph">&nbsp;&gt;&gt;&nbsp;<a class="sub-links-action" href="CTHOSTFTDCMDAPI/_CTHOSTFTDCMDAPI.html">CThostFtdcMdApi</a></p>
<p class="sub-links-paragraph">&nbsp;&gt;&gt;&nbsp;<a class="sub-links-action" href="CTHOSTFTDCMDSPI/_CTHOSTFTDCMDSPI.html">CThostFtdcMdSpi</a></p>
</div>

</div></div></div><script>$(document).ready(function() {$('#file_header').click(function() {$('.panel_title_h1,.panel_title_h2,.panel_title_h3,.panel_title_h4,.panel_title_h5,.panel_title_h6').hide();});});</script><script>$(document).ready(function() {$('#file_header').dblclick(function() {$('.panel_title_h1,.panel_title_h2,.panel_title_h3,.panel_title_h4,.panel_title_h5,.panel_title_h6').show();});});</script><script></script><p class="back_to_top_link"><a href="#__TOP_4E4ABC53-B143-46FF-93CF-F9381EAD8E14__">鍥炲埌椤堕儴</a></p></div><hr class="footline"/><div class="foot-comment-area"</div><div class="foot"><p id="author"></p></div><p style="margin-left:10px;margin-right:10px;text-indent:0px;"><a href="../CTSJGSJCJJK/CTP-GETDATACOLLECTAPIVERSION.html" alt="鈫?>&lt; 鍓嶉〉</a> <a href="../_index.html" alt="Ctrl+I">鍥炵洰褰?/a> <a href="CTHOSTFTDCMDAPI/_CTHOSTFTDCMDAPI.html" alt="鈫?>鍚庨〉 &gt;</a></p></div>
<script language="javascript" type="text/javascript">
function onDocKeydown(e) {
e = e || window.event;
if(e.keyCode==37){銆€銆€銆€//蹇嵎閿?left
window.location.href='../CTSJGSJCJJK/CTP-GETDATACOLLECTAPIVERSION.html';
return;
}
if(e.ctrlKey && e.keyCode==73){銆€銆€銆€//蹇嵎閿?Ctrl+I 
window.location.href='../_index.html';
return;
}
if(e.keyCode==39){銆€銆€銆€//蹇嵎閿?right
window.location.href='CTHOSTFTDCMDAPI/_CTHOSTFTDCMDAPI.html';
return;
}
}
document.onkeydown=onDocKeydown;
</script>

<p style='text-indent:0;'><div><img id="theme_switcher" src="../images~/theme_switcher.png" onclick="SwitchTheme()"/></p><script>$(document).ready(LoadUserSelectedTheme());</script></body></html>